{"version":3,"sources":["reducers/index.js","store.js","utils/compose.js","img/icons/change.svg","components/navigation/index.js","components/navigation/navigation.js","img/icons/hand.svg","actions/index.js","components/floorplane/floorplane.js","components/scripts/initBasicScene.js","components/floorplane/index.js","components/modal-window/modal-window.js","components/modal-window/index.js","components/floor-list/floor-list.js","img/icons/add.png","img/icons/lock.png","img/icons/unlock.png","img/icons/visible.png","img/icons/hidden.png","img/icons/edit.png","components/floor-list/index.js","components/pages/home-page.js","img/icons/drag.png","img/icons/rotate.png","img/icons/arrow-rotate.png","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","index.js"],"names":["initialState","project_1","surfaces","id","name","type","url","scale","dots","x","y","z","rotate","moveOnly","visible","locked","walls","x2","z2","width","height","textures","currentModel","changingModels","typeOfChange","prev","next","listForReplaceModel","texture","texture_width","texture2","color","addedModel","camera","status","changeLockModel","state","payload","index","findModel","model","updateState","cloneDeep","changeVisibilityModel","replaceModel","selectReplaceBy","updateProject","push","worklogIndex","findIndex","newModel","selectModel","arr","modelId","changePositionModel","console","log","selectTypeOfChange","addModel","changeStatusCamera","reducer","action","store","createStore","composeWithDevTools","compose","funcs","comp","reduceRight","wrapped","f","Navigation","connect","className","scene","cameraPersp","renderer","interactionManager","checkCollisionModels","control","gltfLoader","updateUseEffectReplace","updateUseEffectVisible","updateUseEffectForDrag","updateUseEffectForRotate","updateUseEffectForCamera","clock","cameraControls","changeMovingCamera","mouseButtons","left","CameraControls","ACTION","TRUCK","ROTATE","THREE","window","innerWidth","innerHeight","alpha","InteractionManager","domElement","TransformControls","GLTFLoader","FloorPlane","project","ref","useRef","useState","setReplaceModel","visibleModel","setVisibleModel","moveModel","setMoveModel","rotateModel","setRotateModel","cameraPanorama","setCameraPanorama","useEffect","setPixelRatio","devicePixelRatio","setSize","initRenderer","background","position","set","lookAt","initCamera","light","add","initPointLight","floorGeometry","floorMaterial","floor","receiveShadow","rotation","Math","PI","initFloor","install","current","appendChild","animate","map","el","loadModelToScene","addObjectsFromStore","load","gltf","root","remove","children","userData","Rootname","currentPosition","startPosition","addTransformControl","FloorPlaneContainer","this","props","Component","Number","addEventListener","event","selected","forEach","showX","showY","showZ","gltfbox","setFromObject","size","getSize","objectwidth","parseInt","objectdepth","geometry","material","transparent","opacity","box","createSquare","removeHighlightModel","highlightModel","dispatch","render","mas","i","length","target","object","firstObject","secondObject","firstBB","secondBB","intersectsBox","copy","isCollision","enabled","value","onDraginigchange","_plane","modelInfo","attach","setMode","elem","requestAnimationFrame","delta","getDelta","update","aspect","updateProjectionMatrix","ModalWindow","onClick","ModalWindowContainer","FloorList","src","alt","FloorListContainer","HomePage","handImg","change","HomePageContainer","CartPage","App","path","component","exact","ErrorIndicator","ErrorBoundry","hasError","setState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.825bcc3b.chunk.js","sourcesContent":["import cloneDeep from \"lodash/cloneDeep\";\nconst initialState = {\n  project_1: {\n    surfaces: [\n      {\n        id: \"1\",\n        name: \"door\",\n        type: \"model\",\n        url: \"./models/doors.glb\",\n        scale: \"1\",\n        dots: { x: \"3\", y: \"0\", z: \"-2\" },\n        rotate: 1,\n        moveOnly: \"XZ\",\n        visible: true,\n        locked: true,\n      },\n      {\n        id: \"4\",\n        name: \"TV\",\n        type: \"model\",\n        url: \"./models/TV.glb\",\n        dots: { x: \"-2\", y: \"0\", z: \"-4.5\" },\n        rotate: 0,\n        moveOnly: \"XZ\",\n        visible: true,\n        locked: false,\n      },\n      {\n        id: \"5\",\n        name: \"table_03\",\n        type: \"model\",\n        url: \"./models/table_03.glb\",\n        dots: { x: \"0\", y: \"0\", z: \"0\" },\n        rotate: 0,\n        moveOnly: \"XZ\",\n        visible: true,\n        locked: false,\n      },\n    ],\n    walls: [\n      {\n        id: \"1\",\n        type: \"wall\",\n        dots: { x: \"0\", z: \"0\", x2: \"2\", z2: \"0\" },\n        width: \"0.1\",\n        height: \"1\",\n        textures: [\n          {\n            // фронтальная часть\n            id: \"1\",\n            width: \"0.5\",\n            height: \"0.5\",\n            url: \"50.jpg\",\n          },\n          { // потолок\n            id: \"2\",\n            width: \"0.2\", //длина кирпича\n            height: \"0.1\", // ширина\n            url: \"kirp.jpg\",\n          },\n          {\n            //  боковые\n            id: \"3\",\n            width: \"0.1\",\n            height: \"0.1\",\n            url: \"2323.jpg\"\n          },\n      \n        ],\n      },\n      {\n        id: \"4\",\n        type: \"wall\",\n        dots: { x: \"-1\", z: \"0\", x2: \"-2\", z2: \"1\" },\n        width: \"0.1\",\n        height: \"1\",\n        textures: [\n          {\n            // фронтальная часть\n            id: \"1\",\n            width: \"0.5\",\n            height: \"0.5\",\n            url: \"50.jpg\",\n          },\n          { // потолок\n            id: \"2\",\n            width: \"0.2\", //длина кирпича\n            height: \"0.1\", // ширина\n            url: \"kirp.jpg\",\n          },\n          {\n            //  боковые\n            id: \"3\",\n            width: \"0.1\",\n            height: \"0.1\",\n            url: \"2323.jpg\"\n          },\n      \n        ],\n      },\n      \n    ]\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  },\n  currentModel: {},\n  changingModels: {\n    typeOfChange: \"\",\n    prev: {},\n    next: {},\n  },\n  listForReplaceModel: [\n    {\n      id: \"20\",\n      name: \"sofa_2\",\n      type: \"model\",\n      url: \"./models/sofa_02.glb\",\n      scale: \"2\",\n      texture: \"./url\",\n      texture_width: \"1\",\n      dots: { x: \"0\", y: \"0\", z: \"0\" },\n      visible: true,\n      locked: false,\n    },\n    // {\n    //   id: \"21\",\n    //   name: \"table_03\",\n    //   type: \"model\",\n    //   url: \"./models/table_03.glb\",\n    //   scale: \"1\",\n    //   texture: \"./url\",\n    //   texture_width: \"1\",\n    //   dots: { x: \"0\", y: \"0\", z: \"0\" },\n    //   visible: true,\n    //   locked: false,\n    // },\n    // {\n    //   id: \"22\",\n    //   name: \"chair_02\",\n    //   type: \"model\",\n    //   url: \"./models/chair_02.glb\",\n    //   scale: \"1\",\n    //   texture: \"./url\",\n    //   texture_width: \"1\",\n    //   dots: { x: \"0\", y: \"0\", z: \"0\" },\n    //   visible: true,\n    //   locked: false,\n    // },\n    // {\n    //   id: \"23\",\n    //   name: \"TV\",\n    //   type: \"model\",\n    //   url: \"./models/TV.glb\",\n    //   width: \"0.1\",\n    //   texture: \"red\",\n    //   texture_width: \"1\",\n    //   texture2: \"blue\",\n    //   dots: { x: \"-2\", y: \"0\", z: \"-4.5\" },\n    //   color: \"red\",\n    //   visible: true,\n    //   locked: false,\n    // },\n    // {\n    //   id: \"24\",\n    //   name: \"door\",\n    //   type: \"model\",\n    //   url: \"./models/doors.glb\",\n    //   scale: \"1\",\n    //   texture: \"./url\",\n    //   texture_width: \"1\",\n    //   dots: { x: \"2\", y: \"0\", z: \"0\" },\n    //   visible: true,\n    //   locked: true,\n    // },\n    {\n      id: \"25\",\n      name: \"Lamp\",\n      type: \"model\",\n      url: \"./models/Lamp.glb\",\n      width: \"0.1\",\n      texture: \"red\",\n      texture_width: \"1\",\n      texture2: \"blue\",\n      dots: { x: \"-1\", y: \"0\", z: \"-2\" },\n      color: \"red\",\n      visible: true,\n      locked: false,\n    },\n    // {\n    //   id: \"26\",\n    //   name: \"tumba\",\n    //   type: \"model\",\n    //   url: \"./models/tumba.glb\",\n    //   width: \"0.1\",\n    //   texture: \"red\",\n    //   texture_width: \"1\",\n    //   texture2: \"blue\",\n    //   dots: { x: \"2\", y: \"0\", z: \"2\" },\n    //   color: \"red\",\n    //   visible: true,\n    //   locked: false,\n    // },\n  ],\n  addedModel: {},\n  camera: {\n    status: \"default\",\n  },\n};\n\nconst changeLockModel = (state, payload) => {\n  const { project_1 } = state;\n  const index = findModel(project_1.surfaces, payload.id);\n  const model = project_1.surfaces[index];\n  model.locked = !model.locked;\n  let updateState = cloneDeep(project_1);\n  updateState.surfaces[index] = { ...model };\n\n  return {\n    ...state,\n    project_1: updateState,\n    currentModel: model,\n  };\n};\n\nconst changeVisibilityModel = (state, payload) => {\n  const { project_1 } = state;\n  // console.log(\"changeVisibility\");\n  const index = findModel(project_1.surfaces, payload.id);\n  const model = project_1.surfaces[index];\n  model.visible = !model.visible;\n  model.typeOfChange = \"visibility\";\n  // console.log(payload, 'payload')\n  let updateState = cloneDeep(project_1);\n  updateState.surfaces[index] = { ...model };\n\n  return {\n    ...state,\n    project_1: updateState,\n    currentModel: model,\n  };\n};\n\nconst replaceModel = (state) => {\n  return {\n    ...state,\n    changingModels: { typeOfChange: \"\", prev: {}, next: {} },\n  };\n};\nconst selectReplaceBy = (state, payload) => {\n  const { changingModels, project_1, addedModel } = state;\n  let updateProject = cloneDeep(project_1);\n\n  if (addedModel.status === \"add_new_model\") {\n    updateProject.surfaces.push({ ...payload });\n    return {\n      ...state,\n      project_1: updateProject,\n      addedModel: { ...addedModel, model: payload },\n    };\n  } else {\n    const worklogIndex = project_1.surfaces.findIndex(\n      ({ id }) => id === changingModels.prev.id\n    );\n\n    let newModel = payload;\n    newModel.dots = changingModels.prev.dots;\n    newModel.id = payload.id;\n    newModel.name = payload.name;\n    updateProject.surfaces[worklogIndex] = newModel;\n    return {\n      ...state,\n      project_1: { ...updateProject },\n      changingModels: {\n        ...changingModels,\n        next: payload,\n      },\n      currentModel: payload,\n    };\n  }\n};\nconst selectModel = (state, payload) => {\n  const { changingModels } = state;\n  // console.log('selectModel in red')\n\n  return {\n    ...state,\n    currentModel: payload,\n    changingModels: {\n      ...changingModels,\n      typeOfChange: \"replace\",\n      prev: payload,\n    },\n  };\n};\nconst findModel = (arr, modelId) => {\n  const findIndex = arr.findIndex(({ id }) => id === modelId);\n  // console.log(findIndex, arr, modelId)\n  return findIndex;\n};\nconst changePositionModel = (state, payload) => {\n  // console.log('changePositionModel')\n  // после замены модели не меняется ее id в функции отправки  changePositionModel\n  const { project_1 } = state;\n  const index = findModel(project_1.surfaces, payload.id);\n  const model = project_1.surfaces[index];\n  let x = payload.dots.x;\n  let y = payload.dots.y;\n  let z = payload.dots.z;\n  // model.dots = { x, y, z };\n  if (model) {\n    model.dots = { x, y, z };\n    model.rotate = payload.rotate;\n  } else {\n    console.log(\" cant find index in changePositionModel \");\n  }\n  let updateState = cloneDeep(project_1);\n  updateState.surfaces[index] = { ...model };\n  return {\n    ...state,\n    project_1: updateState,\n  };\n};\n\nconst selectTypeOfChange = (state, payload) => {\n  const { changingModels } = state;\n  return {\n    ...state,\n    changingModels: { ...changingModels, typeOfChange: payload },\n  };\n};\nconst addModel = (state, payload) => {\n  // console.log(\"addModel\");\n  return {\n    ...state,\n    addedModel: { status: \"add_new_model\" },\n  };\n};\nconst changeStatusCamera = (state) => {\n  const { camera } = state;\n  // console.log(\"changeStatusCamera in redux \");\n  return {\n    ...state,\n    camera: { ...camera, status: \"panorama\" },\n  };\n};\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"CHANGE_POSITION_MODEL\":\n      return changePositionModel(state, action.payload);\n\n    case \"SELECT_MODEL\":\n      return selectModel(state, action.payload);\n\n    case \"SELECT_REPLACED_BY\":\n      return selectReplaceBy(state, action.payload);\n\n    case \"SELECT_TYPE_OF_CHANGE\":\n      return selectTypeOfChange(state, action.payload);\n\n    case \"REPLACE_MODEL\":\n      return replaceModel(state);\n\n    case \"CHANGE_VISIBILITY_MODEL\":\n      return changeVisibilityModel(state, action.payload);\n    // CHANGE_LOCK_MODEL\n    case \"CHANGE_LOCK_MODEL\":\n      return changeLockModel(state, action.payload);\n    case \"ADD_MODEL\":\n      return addModel(state, action.payload);\n    case \"MOVE_CAMERA\":\n      return changeStatusCamera(state);\n    default:\n      return state;\n  }\n};\nexport default reducer;\n\n// старый стор\n//   {\n//   id: \"2\",\n//   name: \"tumba\",\n//   type: \"model\",\n//   url: \"./models/tumba.glb\",\n//   width: \"0.1\",\n//   scale: '2',\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"1.9\", y: \"0\", z: \"-2\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"3\",\n//   name: \"Lamp\",\n//   type: \"model\",\n//   url: \"./models/Lamp.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"0\", y: \"0\", z: \"-3.5\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n//\n\n// {\n//   id: \"6\",\n//   name: \"door\",\n//   type: \"model\",\n//   url: \"./models/table_04.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"2\", y: \"0\", z: \"4\" },\n//   visible: true,\n//   locked: true,\n// },\n// {\n//   id: \"7\",\n//   name: \"Lamp_02\",\n//   type: \"model\",\n//   url: \"./models/table_02.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"3\", y: \"0\", z: \"1\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n\n// {\n//   id: \"8\",\n//   name: \"table_03\",\n//   type: \"model\",\n//   url: \"./models/table_03.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"0\", y: \"0\", z: \"1\" },\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"9\",\n//   name: \"door\",\n//   type: \"model\",\n//   url: \"./models/table_04.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"-2\", y: \"0\", z: \"5\" },\n//   visible: true,\n//   locked: true,\n// },\n// {\n//   id: \"10\",\n//   name: \"Lamp_02\",\n//   type: \"model\",\n//   url: \"./models/table_02.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"-3\", y: \"0\", z: \"1\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n\n// {\n//   id: \"11\",\n//   name: \"door\",\n//   type: \"model\",\n//   url: \"./models/doors.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"-1.5\", y: \"0\", z: \"0\" },\n//   visible: true,\n//   locked: true,\n// },\n// {\n//   id: \"12\",\n//   name: \"tumba\",\n//   type: \"model\",\n//   url: \"./models/tumba.glb\",\n//   width: \"0.1\",\n//   scale: '2',\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"-3.5\", y: \"0\", z: \"2\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"13\",\n//   name: \"Lamp\",\n//   type: \"model\",\n//   url: \"./models/Lamp.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"-1\", y: \"0\", z: \"4\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n// //\n// {\n//   id: \"14\",\n//   name: \"TV\",\n//   type: \"model\",\n//   url: \"./models/TV.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"3.7\", y: \"0\", z: \"-4.5\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"15\",\n//   name: \"table_03\",\n//   type: \"model\",\n//   url: \"./models/table_03.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"0\", y: \"0\", z: \"6\" },\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"16\",\n//   name: \"door\",\n//   type: \"model\",\n//   url: \"./models/table_04.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"5\", y: \"0\", z: \"4\" },\n//   visible: true,\n//   locked: true,\n// },\n// {\n//   id: \"17\",\n//   name: \"Lamp_02\",\n//   type: \"model\",\n//   url: \"./models/table_02.glb\",\n//   width: \"0.1\",\n//   texture: \"red\",\n//   texture_width: \"1\",\n//   texture2: \"blue\",\n//   dots: { x: \"4.9\", y: \"0\", z: \"3.7\" },\n//   color: \"red\",\n//   visible: true,\n//   locked: false,\n// },\n\n// {\n//   id: \"18\",\n//   name: \"table_03\",\n//   type: \"model\",\n//   url: \"./models/table_03.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"5\", y: \"0\", z: \"-4\" },\n//   visible: true,\n//   locked: false,\n// },\n// {\n//   id: \"19\",\n//   name: \"door\",\n//   type: \"model\",\n//   url: \"./models/table_04.glb\",\n//   scale: \"1\",\n//   texture: \"./url\",\n//   texture_width: \"1\",\n//   dots: { x: \"-5\", y: \"0\", z: \"5\" },\n//   visible: true,\n//   locked: true,\n// },\n\n// {\n//   id: \"1\",\n//   type: \"wall\",\n//   dots: { x: \"0\", z: \"0\", x2: \"2\", z2: \"0\" },\n//   width: \"0.1\",\n//   height: \"1\",\n//   textures: [\n//     {\n//       // фронтальная часть\n//       id: \"1\",\n//       width: \"0.5\",\n//       height: \"0.5\",\n//       url: \"50.jpg\",\n//     },\n//     { // потолок\n//       id: \"2\",\n//       width: \"0.2\", //длина кирпича\n//       height: \"0.1\", // ширина\n//       url: \"kirp.jpg\",\n//     },\n//     {\n//       //  боковые\n//       id: \"3\",\n//       width: \"0.1\",\n//       height: \"0.1\",\n//       url: \"2323.jpg\"\n//     },\n\n//   ],\n// },\n// {\n//   id: \"4\",\n//   type: \"wall\",\n//   dots: { x: \"-1\", z: \"0\", x2: \"-2\", z2: \"1\" },\n//   width: \"0.1\",\n//   height: \"1\",\n//   textures: [\n//     {\n//       // фронтальная часть\n//       id: \"1\",\n//       width: \"0.5\",\n//       height: \"0.5\",\n//       url: \"50.jpg\",\n//     },\n//     { // потолок\n//       id: \"2\",\n//       width: \"0.2\", //длина кирпича\n//       height: \"0.1\", // ширина\n//       url: \"kirp.jpg\",\n//     },\n//     {\n//       //  боковые\n//       id: \"3\",\n//       width: \"0.1\",\n//       height: \"0.1\",\n//       url: \"2323.jpg\"\n//     },\n\n//   ],\n// },\n\n// {\n//   id: \"7\",\n//   type: \"wall\",\n//   dots: { x: \"-1\", z: \"2\", x2: \"-1\", z2: \"3\" },\n//   width: \"0.1\",\n//   height: \"1\",\n//   textures: [\n//     {\n//       // фронтальная часть\n//       id: \"1\",\n//       width: \"0.5\",\n//       height: \"0.5\",\n//       url: \"50.jpg\",\n//     },\n//     { // потолок\n//       id: \"2\",\n//       width: \"0.2\", //длина кирпича\n//       height: \"0.1\", // ширина\n//       url: \"kirp.jpg\",\n//     },\n//     {\n//       //  боковые\n//       id: \"3\",\n//       width: \"0.1\",\n//       height: \"0.1\",\n//       url: \"2323.jpg\"\n//     },\n\n//   ],\n// },\n\n// СТАРЫЙ КОД ДЛЯ ПРИМЕРА РАБОТЫ СО СТЕЙТОМ\n\n// ид для добавления новых ворклогов, точка отсчета\n// const deleteWorklog = (state, worklogId, data) => {\n//   const { worklogList, favorites } = state;\n//   if (data) {\n//     const worklogIndex = worklogList[data].findIndex(\n//       ({ id }) => id === worklogId\n//     );\n//     let newWorklog = [\n//       ...worklogList[data].slice(0, worklogIndex),\n//       ...worklogList[data].slice(worklogIndex + 1),\n//     ]; //список оставшихся массивов\n\n//     let newWorklogList = worklogList;\n//     newWorklogList[data] = newWorklog;\n//     return {\n//       ...state,\n//       worklogList: { ...newWorklogList },\n//     };\n//   } else {\n//     const worklogIndex = favorites.findIndex(({ id }) => id === worklogId);\n//     return {\n//       ...state,\n//       favorites: deleteItem(favorites, worklogIndex),\n//     };\n//   }\n// };\n\n// const deleteItem = (arr, idx) => {\n//   return [...arr.slice(0, idx), ...arr.slice(idx + 1)]; // тут мы удаляем массив\n// };\n\n// const copyWorklog = (state, worklogId, data, nowDate) => {\n//   id++;\n//   const { worklogList, activeWorklogs, modal } = state;\n//   const worklogIndex = worklogList[data].findIndex(\n//     ({ id }) => id === worklogId\n//   );\n//   const worklog = [worklogList[data][worklogIndex]];\n//   // нашли копируемый wl\n//   let newWorklogList = cloneDeep(worklogList);\n//   let newWorklog = worklog;\n//   let seconds = nowDate.h * 60 * 60 + nowDate.min * 60;\n//   let dateToday = nowDate.d + \".\" + nowDate.m + \".\" + nowDate.y;\n//   const newIndex = newWorklog.findIndex(({ id }) => id === worklogId);\n\n//   newWorklog[newIndex].isStarting = true;\n//   newWorklog[newIndex].id = id;\n//   newWorklog[newIndex].timeStart = seconds;\n//   newWorklog[newIndex].timeStop = nowDate.h + \"-\" + nowDate.min; // тут число гетдэй\n\n//   if (newWorklogList[`${dateToday}`]) {\n//     newWorklogList[`${dateToday}`].push(worklog[0]);\n//   } else {\n//     newWorklogList[`${dateToday}`] = newWorklog;\n//   }\n\n//   let newActive = newWorklog;\n//   newActive[0].data = `${dateToday}`;\n//   // console.log(modal.status);\n//   modal.status = \"edit\";\n//   if (activeWorklogs.id) {\n//     return {\n//       ...state,\n//     };\n//   } else {\n//     return {\n//       ...state,\n//       worklogList: newWorklogList,\n//       activeWorklogs: newActive[0],\n//       modal: changeModal(modal, \"edit\", false),\n//     };\n//   }\n// };\n\n// const addNewWl = (state, name, title, planingTime, seconds, todayDate) => {\n//   id++;\n//   const { worklogList, timeCounter } = state;\n//   // let newPlaningTime = planingTime.split(\".\");\n//   let newWorklogList = cloneDeep(worklogList);\n//   console.log(seconds);\n//   const worklog = {\n//     id: id,\n//     info: name,\n//     title: title,\n//     allTime: timeCounter,\n//     timeStart: seconds,\n//     timeStop: seconds + timeCounter,\n//     isStarting: true,\n//   };\n//   if (newWorklogList[`${todayDate}`]) {\n//     newWorklogList[`${todayDate}`].push({ ...worklog });\n//   } else {\n//     newWorklogList[`${todayDate}`] = [{ ...worklog }];\n//   }\n\n//   let newActive = [{ ...worklog }];\n//   newActive[0].data = `${todayDate}`;\n//   return {\n//     ...state,\n//     worklogList: newWorklogList,\n//     activeWorklogs: newActive[0],\n//   };\n// };\n// const changeModal = (modal, status, changeIsOpen) => {\n//   let newModal;\n//   if (status) {\n//     newModal = {\n//       isOpen: modal.isOpen,\n//       status: `${status}`,\n//     };\n//   }\n//   if (changeIsOpen) {\n//     newModal = {\n//       isOpen: !modal.isOpen,\n//       status: modal.status,\n//     };\n//   }\n//   if (status && changeIsOpen) {\n//     newModal = {\n//       isOpen: !modal.isOpen,\n//       status: `${status}`,\n//     };\n//   } else {\n//     // console.log(\" нет совпадений  в cgangeModal\");\n//   }\n\n//   return newModal;\n// };\n// const addToEditWl = (state, worklogId, data) => {\n//   if (data) {\n//     const { modal } = state;\n//     const worklog = findWorklog(state, data, worklogId);\n//     worklog.data = data;\n//     return {\n//       ...state,\n//       editWorklog: [worklog],\n//       modal: changeModal(modal, \"edit\", true),\n//     };\n//   } else {\n//     const { favorites, modal } = state;\n//     const worklogIndex = favorites.findIndex(({ id }) => id === worklogId);\n//     const worklog = favorites[worklogIndex];\n//     return {\n//       ...state,\n//       editWorklog: [worklog],\n//       modal: changeModal(modal, \"edit\", true),\n//     };\n//   }\n// };\n// const findWorklog = (state, data, worklogId) => {\n//   const { worklogList } = state;\n\n//   const worklogIndex = worklogList[data].findIndex(\n//     ({ id }) => id === worklogId\n//   );\n//   const worklog = worklogList[data][worklogIndex];\n//   return worklog;\n// };\n","// import { createStore } from 'redux';\n\nimport reducer from './reducers';\nimport { createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools()\n);\nexport default store;","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp);\n};\nexport default compose;","export default __webpack_public_path__ + \"static/media/change.218324cd.svg\";","import Navigation from './navigation';\r\nexport default Navigation","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nconst Navigation = ({currentModel}) => {\r\n  return (\r\n    <nav className=\"nav\">\r\n      <div className=\"nav-item\">Квартира</div>\r\n      <div className=\"nav-item\">Проект</div>\r\n      <div className=\"nav-item\">Флорплан</div>\r\n      <div className=\"nav-item active-floorplane\">{currentModel.name}</div>\r\n    </nav>\r\n  );\r\n};\r\n\r\n\r\nconst mapStateToProps = ({ currentModel }) => {\r\n  return { currentModel };\r\n};\r\n\r\n\r\nexport default connect(mapStateToProps, null)(Navigation);","export default __webpack_public_path__ + \"static/media/hand.51bdce56.svg\";","export const changePositionModel = (model) => {\n  return {\n    type: \"CHANGE_POSITION_MODEL\",\n    payload: model,\n  };\n};\n\nexport const selectModel = (model) => {\n  return {\n    type: \"SELECT_MODEL\",\n    payload: model,\n  };\n};\nexport const selectReplaceBy = (model) => {\n  return {\n    type: \"SELECT_REPLACED_BY\",\n    payload: model,\n  };\n};\n\nexport const selectTypeOfChange = (typeStatus) => {\n  return {\n    type: \"SELECT_TYPE_OF_CHANGE\",\n    payload: typeStatus,\n  };\n};\nexport const replaceModel = () => {\n  return {\n    type: \"REPLACE_MODEL\",\n  };\n};\n\nexport const changeVisibilityModel = (model) => {\n  return {\n    type: \"CHANGE_VISIBILITY_MODEL\",\n    payload: model\n  };\n};\n\nexport const changeLockModel = (model) => {\n  return {\n    type: \"CHANGE_LOCK_MODEL\",\n    payload: model\n  };\n};\n\nexport const addModel = (model) => {\n  return {\n    type: \"ADD_MODEL\",\n    payload: model\n  };\n};\nexport const changeStatusCamera = () => {\n  return {\n    type: \"MOVE_CAMERA\",\n  };\n};\n\n// СТАРЫЙ НЕ СОВСЕМ НУЖНЫЙ КОД  С ДРУГОГО ПРОЕКТА ДЛЯ ПРИМЕРА\nconst worklogsLoaded = (newworklogs) => {\n  return {\n    type: \"FETCH_WORKLOGS_SUCCESS\",\n    payload: newworklogs,\n  };\n};\n//changePositionModel\nconst worklogsRequested = () => {\n  return {\n    type: \"FETCH_WORKLOGS_REQUEST\",\n  };\n};\n\nconst worklogsError = (error) => {\n  return {\n    type: \"FETCH_WORKLOGS_FAILURE\",\n    payload: error,\n  };\n};\n\nexport const worklogAddedToCart = (worklogId) => {\n  return {\n    type: \"WORKLOG_ADDED_TO_CART\",\n    payload: worklogId,\n  };\n};\n\nexport const allworklogsRemovedFromCart = (worklogId) => {\n  return {\n    type: \"ALL_WORKLOGS_REMOVED_FROM_CART\",\n    payload: worklogId,\n  };\n};\nexport const worklogRemoved = (worklogId, data) => {\n  return {\n    type: \"WORKLOG_REMOVED\",\n    payload: worklogId,\n    data: data,\n  };\n};\nexport const worklogCopy = (worklogId, data, worklogDate) => {\n  return {\n    type: \"WORKLOG_COPY\",\n    payload: worklogId,\n    data: data,\n    nowDate: worklogDate,\n  };\n};\nexport const addNewWorklog = (name, title, planingTime, second, todayDate) => {\n  return {\n    type: \"ADD_NEW_WL\",\n    name,\n    title,\n    planingTime,\n    second,\n    todayDate,\n  };\n};\n\nexport const worklogDownload = (worklogId) => {\n  return {\n    type: \"WORKLOG_DOWNLOAD\",\n    payload: worklogId,\n  };\n};\n\nexport const worklogFavorite = (worklogId, data) => {\n  return {\n    type: \"WORKLOG_FAVORITE\",\n    payload: worklogId,\n    data: data,\n  };\n};\nexport const showFavoritesWorklogs = () => {\n  return {\n    type: \"SHOW_FAVORITE\",\n  };\n};\nexport const showModal = () => {\n  return {\n    type: \"SHOW_MODAL\",\n  };\n};\n\nexport const stopWorklog = (worklogId) => {\n  return {\n    type: \"STOP_WORKLOG\",\n    payload: worklogId,\n  };\n};\n\nexport const startTimerCounter = (sec) => {\n  return {\n    type: \"START_TIMER_COUNTER\",\n    sec,\n  };\n};\n\nexport const edToEditWorklog = (worklogId, data) => {\n  return {\n    type: \"ADD_TO_EDIT_WL\",\n    payload: worklogId,\n    data,\n    worklogId,\n  };\n};\nexport const editingWorklog = (\n  name,\n  title,\n  planingTime,\n  favorite,\n  second,\n  sec,\n  data\n) => {\n  return {\n    type: \"EDITING_WL\",\n    name,\n    title,\n    planingTime,\n    favorite,\n    second,\n    sec,\n    data,\n  };\n};\n// export const addNewWorklog = (name, title, planingTime, second, sec, data) => {\n//   return {\n//     type: \"ADD_NEW_WL\",\n// name,\n// title,\n// planingTime,\n// second,\n// sec,\n// data,\n//   };\n// };\n\nfunction fetchworklogs(worklogstoreService, dispatch) {\n  // будет полезно при подгрузке ворклогов с стороннего источника\n  return () => {\n    dispatch(worklogsRequested());\n    worklogstoreService\n      .getWorklogs()\n      .then((data) => dispatch(worklogsLoaded(data)))\n      .catch((err) => dispatch(worklogsError(err)));\n  };\n}\n\nexport { fetchworklogs };\n","import React, { useRef, useEffect, Component, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"../../utils\";\r\nimport { changePositionModel, selectModel } from \"../../actions\";\r\nimport * as THREE from \"three\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { TransformControls } from \"three/examples/jsm/controls/TransformControls\";\r\n// import { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\nimport { InteractionManager } from \"three.interactive\";\r\nimport CameraControls from \"camera-controls\";\r\n\r\nimport {\r\n  initScene,\r\n  initCamera,\r\n  initPointLight,\r\n  initFloor,\r\n  initRenderer,\r\n} from \"../scripts/initBasicScene.js\";\r\n\r\nlet scene,\r\n  cameraPersp,\r\n  renderer,\r\n  interactionManager,\r\n  checkCollisionModels,\r\n  control,\r\n  gltfLoader,\r\n  updateUseEffectReplace,\r\n  updateUseEffectVisible,\r\n  updateForAddModel,\r\n  updateUseEffectForDrag,\r\n  updateUseEffectForRotate,\r\n  updateUseEffectForCamera,\r\n  clock,\r\n  cameraControls;\r\ninitGlobalLets();\r\n\r\nfunction changeMovingCamera(status) {\r\n  cameraControls.mouseButtons.left = CameraControls.ACTION.TRUCK;\r\n  status === \"panorama\"\r\n    ? (cameraControls.mouseButtons.left = CameraControls.ACTION.TRUCK)\r\n    : (cameraControls.mouseButtons.left = CameraControls.ACTION.ROTATE);\r\n}\r\n// const camera = new THREE.PerspectiveCamera( 60, width / height, 0.01, 1000 );\r\n\r\nfunction initGlobalLets() {\r\n  scene = new THREE.Scene();\r\n  cameraPersp = new THREE.PerspectiveCamera(\r\n    55,\r\n    window.innerWidth / window.innerHeight,\r\n    1,\r\n    100\r\n  );\r\n  renderer = new THREE.WebGLRenderer({ alpha: true });\r\n  interactionManager = new InteractionManager(\r\n    renderer,\r\n    cameraPersp,\r\n    renderer.domElement\r\n  );\r\n\r\n  checkCollisionModels = []; // массив всех объектов для пересечения\r\n  control = new TransformControls(cameraPersp, renderer.domElement);\r\n  gltfLoader = new GLTFLoader();\r\n  updateUseEffectReplace = false;\r\n  updateUseEffectVisible = false;\r\n  updateForAddModel = false;\r\n  updateUseEffectForDrag = false;\r\n  updateUseEffectForRotate = false;\r\n  updateUseEffectForCamera = false;\r\n}\r\nconst FloorPlane = ({\r\n  project,\r\n  changePositionModel,\r\n  changingModels,\r\n  currentModel,\r\n  addedModel,\r\n  selectModel,\r\n  camera,\r\n}) => {\r\n  const { surfaces } = project;\r\n  const ref = useRef();\r\n  const [replaceModel, setReplaceModel] = useState(null);\r\n  const [visibleModel, setVisibleModel] = useState(null);\r\n  const [addModel, setAddModel] = useState(null);\r\n  const [moveModel, setMoveModel] = useState(null);\r\n  const [rotateModel, setRotateModel] = useState(null);\r\n  const [cameraPanorama, setCameraPanorama] = useState(null);\r\n\r\n  checkUpdateForReplace();\r\n  checkUpdateForVisibility();\r\n  // checkUpdateForAddModel();\r\n  checkUpdateForMovingModel();\r\n  checkUpdateForRotateModel();\r\n  checkUpdateForCamera();\r\n\r\n  // первый use Effect, отрисовывает сцену и свет\r\n  useEffect(() => {\r\n    // console.log(\" useEffect_1  \");\r\n    main();\r\n\r\n    function main() {\r\n      init();\r\n      animate();\r\n    }\r\n\r\n    function init() {\r\n      initRenderer(renderer);\r\n      initScene(scene);\r\n      initCamera(cameraPersp);\r\n      initPointLight(scene);\r\n      initFloor(scene);\r\n      initControls();\r\n      // initCam();\r\n      ref.current.appendChild(renderer.domElement);\r\n    }\r\n  }, []);\r\n  // второй use Effect отрисовывает модели или добавляет новую\r\n  useEffect(() => {\r\n    // console.log(\"  useEffect_2\");\r\n    if (changingModels.typeOfChange !== \"replace\") {\r\n      addObjectsFromStore(\r\n        surfaces,\r\n        changePositionModel,\r\n        changingModels,\r\n        selectModel\r\n      );\r\n      // initFigures();\r\n    } else if (\r\n      changingModels.typeOfChange === \"replace\" &&\r\n      changingModels.next.url\r\n    ) {\r\n      // проверку на удаление новой модели если повторно меняем\r\n      gltfLoader.load(`${changingModels.next.url}`, (gltf) => {\r\n        let root = gltf.scene;\r\n        root.position.x = changingModels.prev.dots.x;\r\n        root.position.y = changingModels.prev.dots.y;\r\n        root.position.z = changingModels.prev.dots.z;\r\n        scene.remove(findModel(scene.children, changingModels.prev.id));\r\n        updateUseEffectReplace = false;\r\n        root.visible = true;\r\n        root.userData.name = changingModels.next.name;\r\n        root.userData.Rootname = changingModels.next.name;\r\n        root.userData.id = changingModels.next.id;\r\n        root.userData.currentPosition = new THREE.Vector3();\r\n        root.userData.startPosition = {\r\n          x: changingModels.prev.dots.x,\r\n          y: changingModels.prev.dots.y,\r\n          z: changingModels.prev.dots.z,\r\n        };\r\n      });\r\n    }\r\n  }, [replaceModel]);\r\n\r\n  // для обновления если меняется visible model\r\n  useEffect(() => {\r\n    // console.log(\"useEffect_3\");\r\n    if (currentModel.id) {\r\n      console.log(\"useEffect_3 \", \" есть текущая модель, меняем видимость\");\r\n\r\n      let model = findModel(scene.children, currentModel.id);\r\n      model.visible = currentModel.visible;\r\n      updateUseEffectVisible = false;\r\n    }\r\n\r\n    // findModel(scene.children, id)\r\n  }, [visibleModel]);\r\n\r\n  // если добавляем модель\r\n  useEffect(() => {\r\n    // console.log('useEffect_4')\r\n    if (addedModel.model) {\r\n      // console.log(\"useEffect_4 \");\r\n      loadModelToScene(addedModel.model);\r\n\r\n      // let model = findModel(scene.children, currentModel.id);\r\n      // model.visible = currentModel.visible;\r\n      // updateUseEffectVisible = false;\r\n    }\r\n\r\n    // findModel(scene.children, id)\r\n  }, [addModel]);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"useEffect_5\");\r\n    if (changingModels.typeOfChange === \"drag\" && currentModel.id) {\r\n      let model = findModel(scene.children, currentModel.id);\r\n      addTransformControl(\r\n        model,\r\n        changePositionModel,\r\n        changingModels.typeOfChange\r\n      );\r\n      // console.log(currentModel, 'model')\r\n      // console.log(model)\r\n    }\r\n  }, [moveModel]);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"useEffect_6\");\r\n    if (changingModels.typeOfChange === \"rotate\" && currentModel.id) {\r\n      console.log(\" добавим тут поворот  \", currentModel);\r\n      let model = findModel(scene.children, currentModel.id);\r\n      addTransformControl(\r\n        model,\r\n        changePositionModel,\r\n        changingModels.typeOfChange\r\n      );\r\n      // console.log(currentModel, 'model')\r\n      // console.log(model)\r\n    }\r\n  }, [rotateModel]);\r\n\r\n  useEffect(() => {\r\n    if (camera.status === \"panorama\") {\r\n      console.log(\"useEffect_7\");\r\n      changeMovingCamera(camera.status);\r\n    }\r\n  }, [cameraPanorama]);\r\n\r\n  function checkUpdateForReplace() {\r\n    if (\r\n      changingModels.typeOfChange === \"replace\" &&\r\n      updateUseEffectReplace === false &&\r\n      changingModels.next.id\r\n    ) {\r\n      setReplaceModel(replaceModel + 1);\r\n      updateUseEffectReplace = true;\r\n    }\r\n  }\r\n  function checkUpdateForVisibility() {\r\n    if (\r\n      currentModel.id &&\r\n      updateUseEffectVisible === false &&\r\n      currentModel.typeOfChange === \"visibility\"\r\n    ) {\r\n      setVisibleModel(visibleModel + 1);\r\n      updateUseEffectVisible = true;\r\n    }\r\n  }\r\n\r\n  function checkUpdateForAddModel() {\r\n    if (addedModel.model.id && updateForAddModel === false) {\r\n      setAddModel(addModel + 1);\r\n      // updateForAddModel = true;\r\n      // console.log(\"addedModel in check \");\r\n    }\r\n  }\r\n\r\n  function checkUpdateForMovingModel() {\r\n    if (\r\n      changingModels.typeOfChange === \"drag\" &&\r\n      updateUseEffectForDrag === false\r\n    ) {\r\n      setMoveModel(moveModel + 1);\r\n      updateUseEffectForDrag = true;\r\n    }\r\n  }\r\n  function checkUpdateForRotateModel() {\r\n    if (\r\n      changingModels.typeOfChange === \"rotate\" &&\r\n      updateUseEffectForRotate === false\r\n    ) {\r\n      setRotateModel(rotateModel + 1);\r\n      updateUseEffectForRotate = true;\r\n    }\r\n  }\r\n\r\n  function checkUpdateForCamera() {\r\n    if (camera.status === \"panorama\" && updateUseEffectForCamera === false) {\r\n      setCameraPanorama(cameraPanorama + 1);\r\n      updateUseEffectForCamera = true;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div ref={ref} />\r\n    </>\r\n  );\r\n};\r\n\r\nclass FloorPlaneContainer extends Component {\r\n  render() {\r\n    const {\r\n      project_1,\r\n      changePositionModel,\r\n      changingModels,\r\n      currentModel,\r\n      addedModel,\r\n      selectModel,\r\n      camera,\r\n    } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <FloorPlane\r\n          project={project_1}\r\n          currentModel={currentModel}\r\n          changingModels={changingModels}\r\n          changePositionModel={changePositionModel}\r\n          addedModel={addedModel}\r\n          selectModel={selectModel}\r\n          camera={camera}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({\r\n  project_1,\r\n  changingModels,\r\n  currentModel,\r\n  addedModel,\r\n  camera,\r\n}) => {\r\n  return {\r\n    project_1,\r\n    changingModels,\r\n    currentModel,\r\n    addedModel,\r\n    camera,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changePositionModel: (id) => dispatch(changePositionModel(id)),\r\n    selectModel: (id) => dispatch(selectModel(id)),\r\n  };\r\n};\r\n// стандартная функция добавленияя модели на сцену\r\nfunction loadModelToScene(\r\n  model,\r\n  changePositionModel,\r\n  changingModels,\r\n  selectModel\r\n) {\r\n  gltfLoader.load(`${model.url}`, (gltf) => {\r\n    let root = gltf.scene;\r\n    root.userData.name = model.name;\r\n    root.userData.id = model.id;\r\n    root.userData.currentPosition = new THREE.Vector3();\r\n    root.userData.startPosition = {\r\n      x: model.dots.x,\r\n      y: model.dots.y,\r\n      z: model.dots.z,\r\n    };\r\n\r\n    root.position.set(\r\n      Number(model.dots.x),\r\n      Number(model.dots.y),\r\n      Number(model.dots.z)\r\n    );\r\n    root.rotation.y = model.rotate;\r\n    interactionManager.add(root);\r\n\r\n    root.addEventListener(\"click\", (event) => {\r\n      // removeAllHightLight()\r\n      // console.log(scene.children, 'child')\r\n      selectModel(model);\r\n\r\n      highlightModel(\r\n        root,\r\n        model,\r\n        changePositionModel,\r\n        changingModels.typeOfChange\r\n      );\r\n      root.userData.selected = true;\r\n    });\r\n\r\n    checkCollisionModels.push(root);\r\n    scene.add(root);\r\n  });\r\n}\r\nfunction removeTransformControl(model) {\r\n  control.showX = false;\r\n  control.showY = false;\r\n  control.showZ = false;\r\n  console.log(\" удалили стлерки \");\r\n}\r\n\r\n// добавляем модели\r\nfunction addObjectsFromStore(\r\n  arr,\r\n  changePositionModel,\r\n  changingModels,\r\n  selectModel\r\n) {\r\n  arr.map((el) => {\r\n    if (el.type === \"model\") {\r\n      loadModelToScene(el, changePositionModel, changingModels, selectModel);\r\n    }\r\n\r\n    return el;\r\n  });\r\n}\r\n\r\nfunction onDraginigchange(event, model) {\r\n  // orbit.enabled = !event.value;\r\n  cameraControls.enabled = !event.value;\r\n  // control.detach(model);\r\n\r\n  // console.log( event.target._plane.object.userData, 'changed ')\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n  FloorPlaneContainer\r\n);\r\n\r\nfunction removeHighlightModel(model) {\r\n  // переделать, искать нормально\r\n  let light = model.children[1];\r\n  // model.remove(light);\r\n  // light.visible = false;\r\n}\r\nfunction createSquare(model) {\r\n  var gltfbox = new THREE.Box3().setFromObject(model);\r\n  const width = new THREE.Vector3();\r\n  let size = gltfbox.getSize(width);\r\n  var objectwidth = Math.floor(size.x) + parseInt(1);\r\n  var objectdepth = Math.floor(size.z) + parseInt(1);\r\n  var geometry = new THREE.BoxGeometry(objectwidth, 0.1, objectdepth);\r\n  var material = new THREE.MeshBasicMaterial({\r\n    color: 0xffff00,\r\n    transparent: true,\r\n    opacity: 0.5,\r\n  });\r\n  let box = new THREE.Mesh(geometry, material);\r\n  box.position.set(0, 0, 0);\r\n  box.userData.name = \"box\";\r\n\r\n  return box;\r\n}\r\nfunction removeAllHightLight(arr, current) {\r\n  arr.forEach((model) => {\r\n    if (model.type === \"Group\") {\r\n      model.userData.selected = false;\r\n      model.children.forEach((el) => {\r\n        if (el.type === \"Mesh\" && el.userData.name === \"box\") {\r\n          model.remove(el);\r\n          //  el.visible = false;\r\n        }\r\n      });\r\n    } else if (\r\n      model.userData.name === \"transformControl\" &&\r\n      model.userData.id !== current.userData.id\r\n    ) {\r\n      removeTransformControl(model);\r\n    }\r\n  });\r\n}\r\nfunction highlightModel(model, el, changePositionModel, status) {\r\n  if (model.userData.selected !== true) {\r\n    removeAllHightLight(scene.children, model);\r\n    model.add(createSquare(model));\r\n  } else {\r\n    removeHighlightModel(model);\r\n    // control.detach (model)\r\n  }\r\n}\r\n\r\nfunction isCollision(el, mas) {\r\n  for (var i = 0; i < mas.length; i++) {\r\n    if (el.target.children[0].object !== mas[i]) {\r\n      var firstObject = el.target.children[0].object;\r\n      var secondObject = mas[i];\r\n      // рисуем рамку\r\n      var firstBB = new THREE.Box3().setFromObject(firstObject);\r\n      var secondBB = new THREE.Box3().setFromObject(secondObject);\r\n      // проверка на пересечение\r\n      var collision = firstBB.intersectsBox(secondBB);\r\n      if (collision) {\r\n        el.target.children[0].object.position.copy(\r\n          el.target.children[0].object.userData.currentPosition\r\n        );\r\n        // console.log(\" столкновение \");\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction addTransformControl(el, changePositionModel, status) {\r\n  console.log(\"добавлили стрелки \");\r\n  el.userData.currentPosition = new THREE.Vector3();\r\n  control.addEventListener(\"change\", render);\r\n  control.addEventListener(\r\n    \"objectChange\",\r\n    function (el) {\r\n      isCollision(el, checkCollisionModels);\r\n      el.target.children[0].object.userData.currentPosition.copy(\r\n        el.target.children[0].object.position\r\n      );\r\n    },\r\n    false\r\n  );\r\n  control.userData.name = \"transformControl\";\r\n  control.addEventListener(\r\n    \"dragging-changed\",\r\n    (event) => onDraginigchange(event, el),\r\n    false\r\n  );\r\n\r\n  control.addEventListener(\"mouseUp\", (event) => {\r\n    let { x, y, z } = event.target._plane.object.userData.currentPosition;\r\n\r\n    let modelInfo = {\r\n      dots: {\r\n        x,\r\n        y,\r\n        z,\r\n      },\r\n      rotate: event.target._plane.object.rotation.y,\r\n      id: event.target._plane.object.userData.id,\r\n    };\r\n    // console.log(event.target._plane.object.userData.id, 'id')\r\n    changePositionModel(modelInfo);\r\n\r\n    if (status === \"drag\") {\r\n      updateUseEffectForDrag = false;\r\n    } else if (status === \"rotate\") {\r\n      updateUseEffectForRotate = false;\r\n    }\r\n  });\r\n  scene.add(control);\r\n  control.attach(el);\r\n  if (status === \"drag\") {\r\n    control.setMode(\"translate\");\r\n    console.log(\"translate in transform control \");\r\n    control.showY = false;\r\n    control.showX = true;\r\n    control.showZ = true;\r\n  } else if (status === \"rotate\") {\r\n    control.showX = false;\r\n    control.showZ = false;\r\n    control.showY = true;\r\n    control.setMode(\"rotate\");\r\n    console.log(\"  rotate in transform control\");\r\n  }\r\n}\r\n\r\n// удаляем из массива объектов на сцене заменившуюся модель\r\nfunction cutCollisionArr(arr, id) {\r\n  let index = arr.findIndex((el) => el.children[0].userData.id === id);\r\n  let newArr = [...arr.slice(0, index), ...arr.slice(index + 1)];\r\n  return newArr;\r\n}\r\n\r\nfunction initFigures() {\r\n  const geometry3 = new THREE.BoxGeometry(1, 1, 1);\r\n  const material3 = new THREE.MeshBasicMaterial({ color: 0x46ff0 }); // greenish blue\r\n\r\n  const cube2 = new THREE.Mesh(geometry3, material3);\r\n  // scene.add(cube2);\r\n\r\n  control = new TransformControls(cameraPersp, renderer.domElement);\r\n  control.addEventListener(\"change\", render);\r\n\r\n  control.addEventListener(\"dragging-changed\", function (event) {\r\n    // orbit.enabled = !event.value;\r\n    cameraControls.enabled = !event.value;\r\n    // enabled = !event.value;\r\n    // let t = event.currentTarget;\r\n  });\r\n\r\n  // control.attach(cube2);\r\n  // scene.add(control);\r\n\r\n  const geometry6 = new THREE.BoxGeometry(2, 2, 3);\r\n  const geometry1 = new THREE.BoxGeometry(2, 2, 3);\r\n  const material6 = new THREE.MeshBasicMaterial({ color: 0x1a8 }); // greenish blue\r\n  const cube6 = new THREE.Mesh(geometry1, material6);\r\n  cube6.position.x = 4;\r\n  cube6.userData.name = \"blue cube\";\r\n  scene.add(cube6);\r\n}\r\n\r\n// дополнительные функции\r\nfunction findModel(arr, id) {\r\n  let elem;\r\n\r\n  arr.forEach((el) => {\r\n    if (el.type === \"Group\" && el.userData.id === id) {\r\n      elem = el;\r\n    }\r\n  });\r\n  return elem;\r\n}\r\n\r\nfunction drawBox(\r\n  objectwidth,\r\n  objectheight,\r\n  objectdepth,\r\n  el,\r\n  checkUpdateForReplace\r\n) {\r\n  var geometry, material, box;\r\n\r\n  geometry = new THREE.BoxGeometry(objectwidth, objectheight, objectdepth);\r\n  material = new THREE.MeshBasicMaterial({\r\n    color: checkUpdateForReplace ? \"red\" : 0xffff00,\r\n    transparent: true,\r\n    opacity: 0.3,\r\n  });\r\n  box = new THREE.Mesh(geometry, material);\r\n  box.userData.id = el.userData.id;\r\n  box.position.set(\r\n    el.userData.startPosition.x,\r\n    el.userData.startPosition.y + objectheight / 2,\r\n    el.userData.startPosition.z\r\n  );\r\n\r\n  return box;\r\n}\r\nfunction render() {\r\n  renderer.render(scene, cameraPersp);\r\n}\r\n\r\nfunction initControls() {\r\n  clock = new THREE.Clock();\r\n  CameraControls.install({ THREE: THREE });\r\n  cameraControls = new CameraControls(cameraPersp, renderer.domElement);\r\n}\r\n\r\nfunction animate() {\r\n  // cameraPersp.lookAt(0, 0, 0); // вокруг чего крутится камера?\r\n  requestAnimationFrame(animate);\r\n  render();\r\n  // console.log(' animate ')\r\n\r\n  const delta = clock.getDelta();\r\n  const hasControlsUpdated = cameraControls.update(delta);\r\n\r\n  // you can skip this condition to render though\r\n  if (hasControlsUpdated) {\r\n    renderer.render(scene, cameraPersp);\r\n  }\r\n}\r\nwindow.addEventListener(\"resize\", onWindowResize, false);\r\n\r\nwindow.addEventListener(\"mouseup\", function (event) {\r\n  changeMovingCamera(\"default\");\r\n  updateUseEffectForCamera = false;\r\n});\r\n\r\nfunction onWindowResize() {\r\n  cameraPersp.aspect = window.innerWidth / window.innerHeight;\r\n  cameraPersp.updateProjectionMatrix();\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  render();\r\n}\r\n","import * as THREE from \"three\";\r\n// let scene = new THREE.Scene();\r\n\r\nfunction initScene(scene) {\r\n  scene.background = new THREE.Color(0x657d83);\r\n}\r\n\r\nfunction initCamera(camera) {\r\n  // width / - 2, width / 2, height / 2, height / - 2, 1, 1000\r\n  // camera.position.set(8, 12, 1);\r\n  camera.position.set(-1, 4, 8);\r\n  // camera.rotation.y = 90 * Math.PI / 180\r\n  camera.lookAt(5, -5, 15);\r\n}\r\n\r\nfunction initPointLight(scene) {\r\n  const color = 0xffffff;\r\n  const intensity = 3;\r\n  const light = new THREE.AmbientLight(color, intensity);\r\n  scene.add(light);\r\n}\r\n\r\nfunction initFloor(scene) {\r\n  var floorGeometry = new THREE.PlaneGeometry(10, 18);\r\n  var floorMaterial = new THREE.MeshStandardMaterial({ color: 0x3f3f3f }); //color: 0x3f3f3f\r\n  var floor = new THREE.Mesh(floorGeometry, floorMaterial);\r\n  floor.receiveShadow = true;\r\n  floor.rotation.x = -0.5 * Math.PI;\r\n  floor.position.x = 0;\r\n  floor.position.y = 0;\r\n  floor.position.z = 0;\r\n  scene.add(floor);\r\n  scene.add(new THREE.GridHelper(20, 20, 0x888888, 0x444444)); // сетка пола\r\n}\r\n\r\nfunction initRenderer(renderer) {\r\n  renderer.setPixelRatio(window.devicePixelRatio);\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n}\r\n\r\nexport { initScene,initCamera, initPointLight, initFloor, initRenderer };\r\n","import FloorPlane from \"./floorplane\";\r\nexport default FloorPlane;","import './styles.css';\r\n\r\nimport React, {  Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"../../utils\";\r\nimport { selectReplaceBy, replaceModel } from \"../../actions\";\r\n\r\nconst ModalWindow = ({listForReplaceModel, selectReplaceBy, replaceModel})=> {\r\n    return (\r\n    <div  className=\"modal\">\r\n    <span>модальное окно</span>\r\n        <h2>На что заменить? </h2>\r\n        {listForReplaceModel.map((el, index) => (\r\n          <div\r\n            className=\"modal-item\"\r\n            id={el.id}\r\n            key={index}\r\n            onClick={() => selectReplaceBy(el)}\r\n          >\r\n            {el.name}\r\n          </div>\r\n        ))}\r\n\r\n        <button className=\"modal-btn\"onClick={()=>replaceModel()}>Заменить</button>\r\n    </div>\r\n    )\r\n}\r\n\r\n\r\nclass ModalWindowContainer extends Component {\r\n    render() {\r\n      const { project_1, selectReplaceBy, changingModels, listForReplaceModel, replaceModel } = this.props;\r\n  \r\n      return (\r\n        <div>\r\n          {/* <button>Выбрать объект</button> */}\r\n          <ModalWindow\r\n          listForReplaceModel={listForReplaceModel}\r\n            project={project_1}\r\n            changingModels={changingModels}\r\n            selectReplaceBy={selectReplaceBy}\r\n            replaceModel={replaceModel}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  const mapStateToProps = ({ project_1, changingModels, listForReplaceModel, replaceModel }) => {\r\n    return {\r\n      project_1,\r\n      changingModels,\r\n      replaceModel,\r\n      listForReplaceModel\r\n    };\r\n  };\r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      selectReplaceBy: (id) => dispatch(selectReplaceBy(id)),\r\n      replaceModel: ()=> dispatch(replaceModel())\r\n    };\r\n  };\r\n  \r\n  export default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n    ModalWindowContainer\r\n  );\r\n","import ModalWindow from './modal-window';\r\nexport default ModalWindow;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"../../utils\";\r\nimport FloorPlane from \"../floorplane\";\r\nimport hideEye from \"../../img/icons/hidden.png\";\r\nimport visibleEye from \"../../img/icons/visible.png\";\r\nimport lockImg from \"../../img/icons/lock.png\";\r\nimport unlockImg from \"../../img/icons/unlock.png\";\r\nimport editImg from \"../../img/icons/edit.png\";\r\nimport addImg from \"../../img/icons/add.png\";\r\n\r\nimport ModalWindow from \"../modal-window\";\r\nimport \"./floor-list.css\";\r\nimport {\r\n  changePositionModel,\r\n  selectModel,\r\n  changeVisibilityModel,\r\n  changeLockModel,\r\n  addModel,\r\n} from \"../../actions\";\r\n\r\nconst FloorList = ({\r\n  project,\r\n  selectModel,\r\n  changeVisibilityModel,\r\n  changeLockModel,\r\n  addModel\r\n}) => {\r\n  const { surfaces } = project;\r\n  return (\r\n    <div className=\"floor-list-wrap\">\r\n      <div className=\"floor-w\">\r\n        <div className=\"block\">\r\n          <h2 className=\"\">Что меняем?</h2>\r\n          <div className=\"furniture-list\">\r\n            <p>Мебель</p>\r\n            <div className=\"furniture-list-img\" onClick={()=>addModel('red')}>\r\n              <img src={addImg} alt=\"Logo\" />\r\n            </div>\r\n          </div>\r\n          <div className=\"list\">\r\n            {surfaces.map((el, index) => (\r\n              <div className=\"list-item-w\" key={index}>\r\n                <div\r\n                  className=\"list-item\"\r\n                  id={el.id}\r\n                  onClick={() => selectModel(el)}\r\n                >\r\n                  {el.name}\r\n                </div>\r\n                <div className=\"list-item-wrap-img\">\r\n                  <div\r\n                    className=\"list-item-img\"\r\n                    onClick={() => changeLockModel(el)}\r\n                  >\r\n                    <img src={el.locked ? lockImg : unlockImg} alt=\"Logo\" />\r\n                  </div>\r\n                  <div\r\n                    className=\"list-item-img\"\r\n                    onClick={() => changeVisibilityModel(el)}\r\n                  >\r\n                    <img src={el.visible ? visibleEye : hideEye} alt=\"Logo\" />\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"list-item-img\"\r\n                    // onClick={() => changeVisibilityModel(el)}\r\n                  >\r\n                    <img src={editImg} alt=\"Logo\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <div className=\"block\">\r\n          <ModalWindow />\r\n        </div>\r\n        <div className=\"block todo\">\r\n          <p>Что исправить</p>\r\n          <ul>\r\n            <li>Добавлять новую id для загруаемых моделей </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <FloorPlane />\r\n    </div>\r\n  );\r\n};\r\n\r\nclass FloorListContainer extends Component {\r\n  render() {\r\n    const {\r\n      project_1,\r\n      changePositionModel,\r\n      selectModel,\r\n      changingModels,\r\n      changeVisibilityModel,\r\n      changeLockModel,\r\n      addModel\r\n    } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <FloorList\r\n          project={project_1}\r\n          changingModels={changingModels}\r\n          changePositionModel={changePositionModel}\r\n          selectModel={selectModel}\r\n          changeVisibilityModel={changeVisibilityModel}\r\n          changeLockModel={changeLockModel}\r\n          addModel={addModel}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ project_1, changingModels }) => {\r\n  return {\r\n    project_1,\r\n    changingModels,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changePositionModel: (id) => dispatch(changePositionModel(id)),\r\n    selectModel: (id) => dispatch(selectModel(id)),\r\n    changeVisibilityModel: (id) => dispatch(changeVisibilityModel(id)),\r\n    changeLockModel: (id) => dispatch(changeLockModel(id)),\r\n    addModel: (id)=>dispatch(addModel(id)),\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\r\n  FloorListContainer\r\n);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB3SURBVHgBtZBRDYAwDEQLm4A5YBKQgAMs4AALSMAF30jAAZ98IgEHcAtd0pQtgQ+avGS5u6WXGnpODSZQgFUaZSLsQAO8NlLh7HwKW7o79qpGmBZUQp+J+50vGOIvL+jYHJXuLId3sS6+D6X/eA2T0cNFFrBJ8QKnTBWu596rDQAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACESURBVHgB3dAxDkAwGAXgBgcw2LmCGxgcxBHcQBzBZazMDE4g7AaLQRh4TTo0TcVf6eQlX9I2/0ubuuw5PsSwwc4MUsAKIxxQUosZTBCKfQQD5JRyC4lyxve9OuhoyqG4Wc4MAaX8KR1cBI2uvBDLi5Vn/6B8MsN40rqC9GWe/3bNbOQGQwcllYMcs94AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAANCAYAAABy6+R8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACpSURBVHgBjZE7CgJBEER7VDA1NjP0FuIpDA28h7/MSDyKF9DEyMATeIYVDPdbBc2wNEPPNjzY7q1iempE/NqBNyjAB2wyetmCFjzADXy1XwfH9AJzsNA+6GmF45EGXMzsStPEMZ3A08x+YMaPPfjrvhaeVqqGtQKHoD9zVYO41SghYFp3MxtbkV2JgmliHisVBB+0EqdSpqVk7jk0CKYY78UgjgNM537TAYTDKtZC+jXxAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADYSURBVHgB7ZOxCoJQFIZPtdXSWjTYXEPgUlHgI/QGXcKhqYKWMnq2lubmpnyEtgiK6r94hOMFUclJ/OFDz/X359yjl6hUoVQDHcpBdbAGJ/AVnIECDcqoPrhyiA9c4HCYL9aHaQPn4C5ebIEx6PLztgjWeEmBe4puVQELfMBM+FzDd4wLtA2jxgFbvr9x3eOr6R3EBXuGUXc0BU+uH9y5Mnw7StBKmMOZ6nkewITrcKZvsKSUGlH0KysKtuwa6zZllAUW4CI6f1Hw325Ak/5UhYITVaVSxdEPBVBHSiD4TU8AAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACxSURBVHgB7dGxDsFQFIDhoxgQJpGw4AUsFhuJxWLwAEajmcnmFTxBH8HCgMXIKxgsXkLiv8ltcoa22nRqcv/kG056enPTirhcmepYaWujGwyeetDAGT1Jntk9ohC1sMALI/nfGG8s45YO2OEBHxOU1PMqpvZWF6xwQj1Y0FcdYI69na8oo4KiPfiLD5oY2r01nrhLTOaAm5pn2KrZfOt+2IuehGd+kC/RbSRjNbTElc9+690UcWGEJOQAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEASURBVHgB1ZI/CsIwFMaTUrpacCxqWvAADh5APEg9gouDIFYHD+DuYD2If2ZdHBxctEM3QXqA0vhFU8nW1KX44JG8R/LL994LIVWY4zh1xpit5gxSwlzXHVmWFVNKH9hP8jzVBXieF3DOB/AeIFj4JU3TZhzHTy0lkC8Aw/erHwAWapmmmYmcWUJBB6GPy3sJWkRRlIgzhgbAFyXgQoRUCLcRbxDOiwQIwAzNu6EUJktiMg6IjknAvToADk5/AVBFQQ0NS+CuaKIAYApbxGFRE9URd+FHAcDrLex3AKx1pvCFZFnWx8sNAM4I2wCMAVgSDVOVXOErgA4AnvKP9F/2AkiPjX/pfnIPAAAAAElFTkSuQmCC\"","import FloorList from './floor-list';\r\nexport default FloorList;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { compose } from \"../../utils\";\n\nimport \"./home-page.css\";\nimport hand from \"../../img/icons/drag.png\";\nimport rotate from \"../../img/icons/rotate.png\";\nimport rotate2 from \"../../img/icons/arrow-rotate.png\";\nimport change from \"../../img/icons/change.svg\";\nimport Navigation from \"../navigation\";\n\nimport handImg from \"../../img/icons/hand.svg\";\nimport FloorList from \"../floor-list\";\n\nimport { selectTypeOfChange, changeStatusCamera } from \"../../actions\";\nconst HomePage = ({ selectTypeOfChange, changeStatusCamera }) => {\n  return (\n    <div>\n      <Navigation />\n      <div className=\"main\">\n        <div className=\"instrum\">\n          <div className=\"controls\">\n          <div\n              className=\"controls-btn hand\"\n              onClick={() => changeStatusCamera()}\n            >\n              <img src={handImg} alt=\"Logo\" />\n            </div>\n            <div\n              className=\"controls-btn\"\n              onClick={() => selectTypeOfChange(\"drag\")}\n            >\n              <img src={hand} alt=\"Logo\" />\n            </div>\n            <div\n              className=\"controls-btn\"\n              onClick={() => selectTypeOfChange(\"rotate\")}\n            >\n              {\" \"}\n              <img src={rotate} alt=\"Logo\" />\n            </div>\n            <div\n              className=\"controls-btn\"\n              onClick={() => selectTypeOfChange(\"cancel\")}\n            >\n              <img src={rotate2} alt=\"Logo\" />\n            </div>\n            <div\n              className=\"controls-btn\"\n              onClick={() => selectTypeOfChange(\"replace\")}\n            >\n              <img src={change} alt=\"Logo\" />\n            </div>\n          </div>\n        </div>\n\n      </div>\n        <FloorList />\n    </div>\n  );\n};\n\nclass HomePageContainer extends Component {\n  render() {\n    const { changingModels, selectTypeOfChange, changeStatusCamera } = this.props;\n\n    return (\n      <div>\n        {/* <button>Выбрать объект</button> */}\n        <HomePage\n          changingModels={changingModels}\n          selectTypeOfChange={selectTypeOfChange}\n          changeStatusCamera={changeStatusCamera}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({ changingModels }) => {\n  return {\n    changingModels,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    selectTypeOfChange: (id) => dispatch(selectTypeOfChange(id)),\n    changeStatusCamera: ()=>dispatch(changeStatusCamera())\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps))(\n  HomePageContainer\n);\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAYAAAAfrhY5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFtSURBVHgB7ZbLSsNAFIb/iiDe2qILL4s6utdnqFsXgs/kVtz7FBXUhQpapYoI6htYfQKLLlzqf5gTiDHJzJQ0m+aDj5IwmXNmOuckQMVw7NMZlMwsPaM/tEvnUBI12qMfGlx+L+k8RswUvaJ92tbgbb2W+3UEMIEwVugX3aZveq+v15LYAkrCwK58DUMSuvJCGd/gWcipbTnGNGkH7hJbopPwRCaTsrlAMXR0vpproHSuc9jyMSgGo/PdIdEJ49lMw7bMLbqrDyQZ0G9kI8nXMxI4oY90J+3BA9i6zfMY+XQ85jiMBsdXLif/mm7SPfqeMvlAzaKpJjGa2CtsN/xMe7hBn2G33HXafWlp0F5GYn+QHn0P9xb70qUPPoEj5FRueIyRrWw4xq2HBPbFoHqxjENwQ0/x/3+WcpLDt4oAQoNLg1mEbUYmltANXUZ+AyoEKZvk1+sLbH8oBantJw1+ixHUsU8CRwj4UKiI+AXfBk62CqjRmgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHYSURBVHgB7Ze9SgNBFIWPWgiC4j8REaIiqAhGWxEignaCnT+FeYC8gGARbIWIhZWgCDZ5ABEsXCxSCKIgFmJhsFDRJgGVWEXPMFtsZn+yuwmTxgMfWWb37j072blzF6izmhBevaTHPP6BBsXJLrklX+TXQpFkyR6ZQY21TK6VhJV4JBuWe4iZHkZADRAjYGKVYzJEMmTTKUmDS/JBckGiLufvyI153GkmmXC59pO0knOyCB+KkhzsT5MnKdLuEXdISnCejTx86skh+MQjsZORBxcT45WCtxyCUggm8cJlXAwkvQLFS/eiBOwguNbJq4uBI6/AhHJxDtUVqjGyQg4ga4e457NXQFYxsIraqoMskGank22wP70WNZq/08r4GTQbiCjjV9BsoEUZf4dmAyVlvAuaDRSV8Qg0awTlq8BAHZS3GBB/STc0yFrpROWKmcdimxZb6Ck0Kg577Z6DZhmKgQ/I5kSbZmGfBbGBTCKY5iHLeQwh5NQTCLZJf4VY0bSkUd4FhTKRdjHxBrmnL0HOShRyCa+RfZSvJKuJKEIoheo6YoH4fkiiCoknzYVMbpBR1EgJcukj6TdkOx/3e+MGBFMfZO8wBfltKIpVAXKl3EN+QRXwrwD6A4951TzRkbxtAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEPSURBVHgB7dE9SgNBHIbx149CsNDGwm4FFQmktxRvYCsWOYJYKSQYUDyB17DwAImewM5aET8KQcVKLIzPoEIcdrMzk4RA+D/wKwKT3ZdZybIsyxpsUxpdB3jBs/sxrfiq2MQqZjGDD9zjCm28lTyjjiOcK7J5HOIJnQAt7PQY8XeuoogaeA0c4LvGmvesTuyQDBclL3Lf9w6fJecaOSOChmS4yfmju5ljbOjnc3W3jG2cKfzGKrEj3IBmzsuLWsFlv0Pa3mE3qqq0WqlDajkjMqW1r8QbWcBt16EvLGl4IwqH1LxDJ0qrHjiicEgT778HHjCn4Y74N2TCe9AktrCIU8W1jj3FtYtHWZZlWePcN/rSqT/9bMmfAAAAAElFTkSuQmCC\"","import React from 'react';\n\nconst CartPage = () => {\n  return <div>Cart Page</div>\n};\n\nexport default CartPage;","import App from './app';\n\nexport default App;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { HomePage, CartPage } from '../pages';\n\nimport './app.css';\nconst App = () => {\n  return (\n    <main >\n      <Switch>\n        <Route\n          path=\"/\"\n          component={HomePage}\n          exact />\n        <Route\n          path=\"/cart\"\n          component={CartPage}\n          />\n      </Switch>\n    </main>\n  );\n};\n\nexport default App;","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;","  \nimport React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return <div>Error!</div>;\n};\n\nexport default ErrorIndicator;","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\nexport default class ErrorBoundry extends Component {\n  state = {\n    hasError: false\n  };\n  componentDidCatch() {\n    this.setState({ hasError: true});\n  }\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n    return this.props.children;\n  }\n\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter} from 'react-router-dom';\nimport store from './store';\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n        <HashRouter>\n          <App />\n        </HashRouter>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}